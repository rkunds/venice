<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ClientCnxnSocketDelayedNIO (venice API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ClientCnxnSocketDelayedNIO (venice API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":9,"i2":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.zookeeper</a></div>
<h2 title="Class ClientCnxnSocketDelayedNIO" class="title">Class ClientCnxnSocketDelayedNIO</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.zookeeper.ClientCnxnSocketNIO</li>
<li>
<ul class="inheritance">
<li>org.apache.zookeeper.ClientCnxnSocketDelayedNIO</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">ClientCnxnSocketDelayedNIO</span>
extends org.apache.zookeeper.ClientCnxnSocketNIO</pre>
<div class="block">Customized zookeeper <code>ClientCnxnSocket</code> implementation that introduce the latency while reading and writing
 data to/from socket.
 <p>
 Please be aware that read a packet from socket need 2 read operations. The first one reads length of packet and the
 second one read a <code>ByteBuffer</code> with the length read before. Each zookeeper operation either a read or
 write operation is composed by 2 steps: write a request packet to socket and read the response packet from socket. So
 the totally delay for a completed zk operation is <b>3*socketIoDelay<b/>, socketIoDelay in
 [socketIoDelayLowerBoundMS, socketIoDelayUpperBoundMS].
 <p>
 In case of simulating distributed Env. in a local box, you could use this class to replace to default zookeeper
 socket to introduce any latency you want. For example, test sending state transition from controller to storage
 nodes. You could make socket of one node dramatically slower to simulate one node become BOOTSTRAP behind than other
 nodes.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.zookeeper.client.ZKClientConfig</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clientConfig">clientConfig</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.nio.ByteBuffer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#incomingBuffer">incomingBuffer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialized">initialized</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lastHeard">lastHeard</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lastSend">lastSend</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.nio.ByteBuffer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lenBuffer">lenBuffer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#now">now</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.LinkedBlockingDeque&lt;org.apache.zookeeper.ClientCnxn.Packet&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#outgoingQueue">outgoingQueue</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicLong</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recvCount">recvCount</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.apache.zookeeper.ClientCnxn.SendThread</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendThread">sendThread</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicLong</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sentCount">sentCount</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sessionId">sessionId</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initProperties()">initProperties</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDefaultSocketIoDelayLowerBoundMS(long)">setDefaultSocketIoDelayLowerBoundMS</a></span>&#8203;(long&nbsp;defaultSocketIoDelayLowerBoundMS)</code></th>
<td class="colLast">
<div class="block">Set up lower bound of delay of socket IO, please set it up before creating zookeeper client.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDefaultSocketIoDelayUpperBoundMS(long)">setDefaultSocketIoDelayUpperBoundMS</a></span>&#8203;(long&nbsp;defaultSocketIoDelayUpperBoundMS)</code></th>
<td class="colLast">
<div class="block">Set up upper bound of delay of socket IO, please set it up before creating zookeeper client.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="initialized">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialized</h4>
<pre>protected&nbsp;boolean initialized</pre>
</li>
</ul>
<a id="lenBuffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lenBuffer</h4>
<pre>protected final&nbsp;java.nio.ByteBuffer lenBuffer</pre>
</li>
</ul>
<a id="incomingBuffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incomingBuffer</h4>
<pre>protected&nbsp;java.nio.ByteBuffer incomingBuffer</pre>
</li>
</ul>
<a id="sentCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sentCount</h4>
<pre>protected final&nbsp;java.util.concurrent.atomic.AtomicLong sentCount</pre>
</li>
</ul>
<a id="recvCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recvCount</h4>
<pre>protected final&nbsp;java.util.concurrent.atomic.AtomicLong recvCount</pre>
</li>
</ul>
<a id="lastHeard">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastHeard</h4>
<pre>protected&nbsp;long lastHeard</pre>
</li>
</ul>
<a id="lastSend">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastSend</h4>
<pre>protected&nbsp;long lastSend</pre>
</li>
</ul>
<a id="now">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>now</h4>
<pre>protected&nbsp;long now</pre>
</li>
</ul>
<a id="sendThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendThread</h4>
<pre>protected&nbsp;org.apache.zookeeper.ClientCnxn.SendThread sendThread</pre>
</li>
</ul>
<a id="outgoingQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outgoingQueue</h4>
<pre>protected&nbsp;java.util.concurrent.LinkedBlockingDeque&lt;org.apache.zookeeper.ClientCnxn.Packet&gt; outgoingQueue</pre>
</li>
</ul>
<a id="clientConfig">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientConfig</h4>
<pre>protected&nbsp;org.apache.zookeeper.client.ZKClientConfig clientConfig</pre>
</li>
</ul>
<a id="sessionId">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sessionId</h4>
<pre>protected&nbsp;long sessionId</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setDefaultSocketIoDelayLowerBoundMS(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultSocketIoDelayLowerBoundMS</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;setDefaultSocketIoDelayLowerBoundMS&#8203;(long&nbsp;defaultSocketIoDelayLowerBoundMS)</pre>
<div class="block">Set up lower bound of delay of socket IO, please set it up before creating zookeeper client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>defaultSocketIoDelayLowerBoundMS</code> - </dd>
</dl>
</li>
</ul>
<a id="setDefaultSocketIoDelayUpperBoundMS(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultSocketIoDelayUpperBoundMS</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;setDefaultSocketIoDelayUpperBoundMS&#8203;(long&nbsp;defaultSocketIoDelayUpperBoundMS)</pre>
<div class="block">Set up upper bound of delay of socket IO, please set it up before creating zookeeper client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>defaultSocketIoDelayUpperBoundMS</code> - </dd>
</dl>
</li>
</ul>
<a id="initProperties()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>initProperties</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;initProperties()
                       throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
